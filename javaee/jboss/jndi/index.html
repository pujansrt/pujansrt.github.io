<!DOCTYPE HTML> <html lang="en-US"> <head> <title>AppKubos: JBoss JNDI</title> <meta http-equiv="content-type" content="text/html; charset=utf-8"/> <meta name="description" content="JNDI Java Naming Directory Interface JavaEE JBoss"/> <meta name="HandheldFriendly" content="True"/> <meta name="viewport" content="width=device-width, initial-scale=1.0"/> <meta name="referrer" content="origin"/> <link rel="icon" href="/favicon.ico" type="image/x-icon"> <!--[if lte IE 8]><script src="/assets/css/ie/html5shiv.js"></script><![endif]--> <noscript> <link rel="stylesheet" href="/assets/css/skel.css"/> <link rel="stylesheet" href="/assets/css/style.css"/> <link rel="stylesheet" href="/assets/css/style-wide.css"/> </noscript> <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script> <script async src="/assets/js/jquery.dropotron.min.js"></script> <script src="/assets/js/skel.min.js"></script> <script src="/assets/js/skel-layers.min.js"></script> <script src="/assets/js/init.js"></script> <script async src="/assets/js/lunr.min.js"></script> <script async src="/assets/js/search.js"></script> <link rel="alternate" type="application/rss+xml" title="AppKubos" href="http://www.appkubos.com/feed.xml"/> </head> <body> <div id="header"> <nav id="nav"> <ul> <li><a href="/">Home</a></li> <li><a href="/pujan">About</a></li> <li class="headmenu" data-cat="javaee" data-curr="javaee"> <a name="JavaEE">JavaEE</a> <ul> <li><a href=""></a></li> <li><a href="/javaee/ws/soapvsrest/">SOAP vs REST</a></li> <li><a href="/javaee/spring/security/credential/">Spring Security Credentails See Password at Session</a></li> <li><a href="/javaee/spring/configuration/">Spring Security Configuration with Form Login</a></li> <li><a href="/javaee/jboss/jspfix/">JBoss Fix for JSP</a></li> <li><a href="/javaee/processbuilder/">How to Run System Commands in Java</a></li> <li><a href="/javaee/jackson/csv-creator/">CSV Creator using Jackson</a></li> <li><a href="/javaee/jaxws/sample-webservice/">JAX-WS Webservices using Annotations</a></li> </ul> </li><li class="headmenu" data-cat="other" data-curr="javaee"> <a name="Other">Other</a> <ul> <li><a href=""></a></li> <li><a href="/etc/calendar-next-4-months/">Calendar For Next Four Months</a></li> <li><a href="/etc/curl/">Curl Command</a></li> <li><a href="/etc/http2/">HTTP/2 Explained</a></li> <li><a href="/etc/tshark-commands/">TShark Commands</a></li> <li><a href="/etc/latency/">Latency Comparison</a></li> <li><a href="/etc/scala-introduction/">Scala Introduction</a></li> <li><a href="/etc/groovy-run-from-java/">Run Groovy from Java</a></li> </ul> </li><li class="headmenu" data-cat="python" data-curr="javaee"> <a name="Python">Python</a> <ul> <li><a href=""></a></li> <li><a href="/python/tutorial/">Python Tutorial</a></li> <li><a href="/python/file-handling/">Python File Handling</a></li> <li><a href="/python/dictionary/">Python Dictionary</a></li> </ul> </li><li class="headmenu" data-cat="integration" data-curr="javaee"> <a name="Integration">Integration</a> <ul> <li><a href=""></a></li> <li><a href="/integration/microservices/">Microservices Explained</a></li> <li><a href="/integration/oauth2/">OAuth2 Architecture</a></li> </ul> </li> </ul> </nav> </div> <section class="wrapper style1"> <div class="container"> <section> <header class="major"> <h2>JBoss JNDI</h2> </header> <div class="row"> <div class="12u"> <div class="box post"> <h3 id="how-to-set-ejb-jndi-in-jboss-7-or-wildfly-8-or-jboss-eap-6">How to set EJB JNDI in JBoss 7 or Wildfly 8+ or JBoss EAP 6+</h3> <h4 id="put-jboss-ejb-clientproperties-file-with-following-content-in-the-classpath-possibly-in-src-location">1. Put jboss-ejb-client.properties file with following content in the classpath (possibly in src/ location)</h4> <figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">remote</span><span class="o">.</span><span class="n">connectionprovider</span><span class="o">.</span><span class="n">create</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">org</span><span class="o">.</span><span class="n">xnio</span><span class="o">.</span><span class="n">Options</span><span class="o">.</span><span class="n">SSL_ENABLED</span><span class="o">=</span><span class="n">false</span>
<span class="n">remote</span><span class="o">.</span><span class="n">connections</span><span class="o">=</span><span class="n">default</span>
<span class="n">remote</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">default</span><span class="o">.</span><span class="n">host</span><span class="o">=</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span>
<span class="n">remote</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">default</span><span class="o">.</span><span class="n">port</span> <span class="o">=</span> <span class="mi">4447</span>
<span class="n">remote</span><span class="o">.</span><span class="n">connection</span><span class="o">.</span><span class="n">default</span><span class="o">.</span><span class="n">connect</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">org</span><span class="o">.</span><span class="n">xnio</span><span class="o">.</span><span class="n">Options</span><span class="o">.</span><span class="n">SASL_POLICY_NOANONYMOUS</span><span class="o">=</span><span class="n">false</span></code></pre></figure> <h4 id="remoteejbclientjava-demonstrating-the-how-to-access-ejb">2. RemoteEJBClient.java demonstrating the how to access EJB.</h4> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">java.util.Hashtable</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.naming.Context</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.naming.InitialContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.naming.NamingException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.appkubos.ejb.Notif</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RemoteEJBClient</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">invokeStatelessNotifBean</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">invokeStatelessNotifBean</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">NamingException</span> <span class="o">{</span>
        <span class="kd">final</span> <span class="n">Notif</span> <span class="n">statelessNotif</span> <span class="o">=</span> <span class="n">lookupRemoteNotif</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Notif returned = &quot;</span> <span class="o">+</span> <span class="n">statelessNotif</span><span class="o">.</span><span class="na">sayDate</span><span class="o">());</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="n">Notif</span> <span class="nf">lookupRemoteNotif</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">NamingException</span> <span class="o">{</span>
        <span class="kd">final</span> <span class="n">Hashtable</span> <span class="n">jndiProperties</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Hashtable</span><span class="o">();</span>
        <span class="n">jndiProperties</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">Context</span><span class="o">.</span><span class="na">URL_PKG_PREFIXES</span><span class="o">,</span> <span class="s">&quot;org.jboss.ejb.client.naming&quot;</span><span class="o">);</span>
        <span class="kd">final</span> <span class="n">Context</span> <span class="n">ctx</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">InitialContext</span><span class="o">(</span><span class="n">jndiProperties</span><span class="o">);</span>

        <span class="n">String</span> <span class="n">appName</span> <span class="o">=</span> <span class="s">&quot;NotificationEAR&quot;</span><span class="o">;</span>
        <span class="n">String</span> <span class="n">moduleName</span> <span class="o">=</span> <span class="s">&quot;NotificationApp&quot;</span><span class="o">;</span>
        <span class="n">String</span> <span class="n">distinctName</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="o">;</span>
        <span class="n">String</span> <span class="n">beanName</span> <span class="o">=</span> <span class="s">&quot;NotifBean&quot;</span><span class="o">;</span>
        <span class="n">String</span> <span class="n">interfaceFullName</span> <span class="o">=</span> <span class="s">&quot;com.appkubos.ejb.Notif&quot;</span><span class="o">;</span>
        <span class="kd">final</span> <span class="n">String</span> <span class="n">jndi</span> <span class="o">=</span> <span class="s">&quot;ejb:&quot;</span> <span class="o">+</span> <span class="n">appName</span> <span class="o">+</span> <span class="s">&quot;/&quot;</span> <span class="o">+</span> <span class="n">moduleName</span> <span class="o">+</span> <span class="s">&quot;/&quot;</span> <span class="o">+</span> <span class="n">distinctName</span> <span class="o">+</span> <span class="s">&quot;/&quot;</span> <span class="o">+</span> <span class="n">beanName</span> <span class="o">+</span> <span class="s">&quot;!&quot;</span> <span class="o">+</span> <span class="n">interfaceFullName</span><span class="o">;</span>
        <span class="n">Notif</span> <span class="n">statelessRemote</span> <span class="o">=</span> <span class="o">(</span><span class="n">Notif</span><span class="o">)</span><span class="n">ctx</span><span class="o">.</span><span class="na">lookup</span><span class="o">(</span><span class="n">jndi</span><span class="o">);</span>

        <span class="k">return</span> <span class="n">statelessRemote</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure> <h3 id="two-ways">Two ways</h3> <p>There are at least two ways of knowing above details of AppName, ModuleName etc:</p> <h3 id="see-jbosss-server-log-file">(1) See JBoss’s server log file</h3> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="nl">java:</span><span class="n">global</span><span class="o">/</span><span class="n">NotificationEAR</span><span class="o">/</span><span class="n">NotificationApp</span><span class="o">/</span><span class="n">NotifBean</span><span class="o">!</span><span class="n">com</span><span class="o">.</span><span class="na">appkubos</span><span class="o">.</span><span class="na">ejb</span><span class="o">.</span><span class="na">Notif</span>
<span class="nl">java:</span><span class="n">app</span><span class="o">/</span><span class="n">NotificationApp</span><span class="o">/</span><span class="n">NotifBean</span><span class="o">!</span><span class="n">com</span><span class="o">.</span><span class="na">appkubos</span><span class="o">.</span><span class="na">ejb</span><span class="o">.</span><span class="na">Notif</span>
<span class="nl">java:</span><span class="n">module</span><span class="o">/</span><span class="n">NotifBean</span><span class="o">!</span><span class="n">com</span><span class="o">.</span><span class="na">appkubos</span><span class="o">.</span><span class="na">ejb</span><span class="o">.</span><span class="na">Notif</span>
<span class="nl">java:</span><span class="n">jboss</span><span class="o">/</span><span class="n">exported</span><span class="o">/</span><span class="n">NotificationEAR</span><span class="o">/</span><span class="n">NotificationApp</span><span class="o">/</span><span class="n">NotifBean</span><span class="o">!</span><span class="n">com</span><span class="o">.</span><span class="na">appkubos</span><span class="o">.</span><span class="na">ejb</span><span class="o">.</span><span class="na">Notif</span>
<span class="nl">java:</span><span class="n">global</span><span class="o">/</span><span class="n">NotificationEAR</span><span class="o">/</span><span class="n">NotificationApp</span><span class="o">/</span><span class="n">NotifBean</span>
<span class="nl">java:</span><span class="n">app</span><span class="o">/</span><span class="n">NotificationApp</span><span class="o">/</span><span class="n">NotifBean</span>
<span class="nl">java:</span><span class="n">module</span><span class="o">/</span><span class="n">NotifBean</span></code></pre></figure> <h3 id="from-jboss-admin-web-interface">(2) From JBoss Admin Web Interface.</h3> <ol> <li>Remote EJB Interface: Notif.java</li> </ol> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Notif</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">sayHello</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">);</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">sayDate</span><span class="o">();</span>
<span class="o">}</span></code></pre></figure> <ol> <li>Remote EJB Interface’s Implementation NotifBean.java</li> </ol> <figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ejb.Remote</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ejb.Stateless</span><span class="o">;</span>

<span class="nd">@Stateless</span>
<span class="nd">@Remote</span><span class="o">(</span><span class="n">Notif</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">NotifBean</span> <span class="kd">implements</span> <span class="n">Notif</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">sayDate</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">Date</span> <span class="n">d</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Date</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">d</span><span class="o">.</span><span class="na">toString</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure> <p><a href="/javaee/cross-origin-header/"> Cross Origin Servlet </a></p> </div> </div> </div> </section> </div> </section> <div id="footer"> <div class="container"> <div class="row "> <section class="6u"> <h3>More Links to Stuff</h3> <ul class="url"> <li><a href="/etc/calendar-next-4-months/">Calendar For Next Four Months</a></li><li><a href="/javaee/ws/soapvsrest/">SOAP vs REST</a></li><li><a href="/web/regex/">Regex</a></li><li><a href="/javaee/spring/security/credential/">Spring Security Credentails See Password at Session</a></li><li><a href="/etc/curl/">Curl Command</a></li><li><a href="/etc/http2/">HTTP/2 Explained</a></li> </ul> </section> <section class="6u"> <h3>Search Posts</h3> <form action="get" id="site_search"> <input type="text" id="search_box"> <input type="submit" value="Search"> </form> <ul id="search_results"></ul> </section> </div> </div> <ul class="icons"> <li><a href="http://github.com/pujansrt" class="icon fa-github"><span class="label">GitHub</span></a></li> <li><a href="http://www.linkedin.com/in/pujansrt" class="icon fa-linkedin"><span class="label">LinkedIn</span></a></li> <li><a href="https://plus.google.com/+PujanSrivastava" class="icon fa-google-plus"><span class="label">Google+</span></a></li> </ul> <div class="copyright"> <ul class="menu"> <li>&copy; Appkubos. All rights reserved 2010-2016</li> </ul> </div> </div> <script>(function(d,e,j,h,f,c,b){d.GoogleAnalyticsObject=f;d[f]=d[f]||function(){(d[f].q=d[f].q||[]).push(arguments)},d[f].l=1*new Date();c=e.createElement(j),b=e.getElementsByTagName(j)[0];c.async=1;c.src=h;b.parentNode.insertBefore(c,b)})(window,document,"script","//www.appkubos.com/assets/js/analytics.js","ga");ga("create","UA-72013918-1","auto");ga("send","pageview");$(function(a){$(".headmenu").each(function(b){var c=$(this);if($(c).attr("data-curr")==$(c).attr("data-cat")){$(c).addClass("current")}});loadAsyncCSS("https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css");loadAsyncCSS("/assets/css/pygments.css")});function loadAsyncCSS(a){if(document.createStyleSheet){document.createStyleSheet(a)}else{$("head").append($("<link rel='stylesheet' href='"+a+"' type='text/css' media='screen' />"))}};</script> </body> </html>