<!DOCTYPE HTML> <html lang="en-US"> <head> <title>AppKubos: Spring Security Configuration with Form Login</title> <meta http-equiv="content-type" content="text/html; charset=utf-8"/> <meta name="description" content="Spring Security Configuration when you need Username and Password to be fixed"/> <meta name="HandheldFriendly" content="True"/> <meta name="viewport" content="width=device-width, initial-scale=1.0"/> <meta name="referrer" content="origin"/> <link rel="icon" href="/favicon.ico" type="image/x-icon"> <!--[if lte IE 8]><script src="/assets/css/ie/html5shiv.js"></script><![endif]--> <noscript> <link rel="stylesheet" href="/assets/css/skel.css"/> <link rel="stylesheet" href="/assets/css/style.css"/> <link rel="stylesheet" href="/assets/css/style-wide.css"/> </noscript> <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script> <script async src="/assets/js/jquery.dropotron.min.js"></script> <script src="/assets/js/skel.min.js"></script> <script src="/assets/js/skel-layers.min.js"></script> <script src="/assets/js/init.js"></script> <script async src="/assets/js/lunr.min.js"></script> <script async src="/assets/js/search.js"></script> <link rel="alternate" type="application/rss+xml" title="AppKubos" href="http://www.appkubos.com/feed.xml"/> </head> <body> <div id="header"> <nav id="nav"> <ul> <li><a href="/">Home</a></li> <li><a href="/pujan">About</a></li> <li class="headmenu" data-cat="javaee" data-curr="javaee"> <a name="JavaEE">JavaEE</a> <ul> <li><a href=""></a></li> <li><a href="/javaee/ws/soapvsrest/">SOAP vs REST</a></li> <li><a href="/javaee/spring/security/credential/">Spring Security Credentails See Password at Session</a></li> <li><a href="/javaee/spring/configuration/">Spring Security Configuration with Form Login</a></li> <li><a href="/javaee/jboss/jspfix/">JBoss Fix for JSP</a></li> <li><a href="/javaee/processbuilder/">How to Run System Commands in Java</a></li> <li><a href="/javaee/jackson/csv-creator/">CSV Creator using Jackson</a></li> <li><a href="/javaee/jaxws/sample-webservice/">JAX-WS Webservices using Annotations</a></li> </ul> </li><li class="headmenu" data-cat="other" data-curr="javaee"> <a name="Other">Other</a> <ul> <li><a href=""></a></li> <li><a href="/etc/calendar-next-4-months/">Calendar For Next Four Months</a></li> <li><a href="/etc/curl/">Curl Command</a></li> <li><a href="/etc/http2/">HTTP/2 Explained</a></li> <li><a href="/etc/tshark-commands/">TShark Commands</a></li> <li><a href="/etc/latency/">Latency Comparison</a></li> <li><a href="/etc/scala-introduction/">Scala Introduction</a></li> <li><a href="/etc/groovy-run-from-java/">Run Groovy from Java</a></li> </ul> </li><li class="headmenu" data-cat="python" data-curr="javaee"> <a name="Python">Python</a> <ul> <li><a href=""></a></li> <li><a href="/python/tutorial/">Python Tutorial</a></li> <li><a href="/python/file-handling/">Python File Handling</a></li> <li><a href="/python/dictionary/">Python Dictionary</a></li> </ul> </li><li class="headmenu" data-cat="integration" data-curr="javaee"> <a name="Integration">Integration</a> <ul> <li><a href=""></a></li> <li><a href="/integration/microservices/">Microservices Explained</a></li> <li><a href="/integration/oauth2/">OAuth2 Architecture</a></li> </ul> </li> </ul> </nav> </div> <section class="wrapper style1"> <div class="container"> <section> <header class="major"> <h2>Spring Security Configuration with Form Login</h2> </header> <div class="row"> <div class="12u"> <div class="box post"> <h2 id="prepare-login-page">Prepare Login Page</h2> <p>/login.jsp</p> <figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">&quot;&lt;c:url value=&#39;/j_spring_security_check&#39; /&gt;&quot;</span> <span class="na">method=</span><span class="s">&quot;post&quot;</span><span class="nt">&gt;</span>
   <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;text&quot;</span> <span class="na">name=</span><span class="s">&quot;username&quot;</span> <span class="na">value=</span><span class="s">&quot;&quot;</span> <span class="na">placeholder=</span><span class="s">&quot;Username&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">&quot;password&quot;</span> <span class="na">value=</span><span class="s">&quot;&quot;</span> <span class="na">name=</span><span class="s">&quot;password&quot;</span> <span class="na">placeholder=</span><span class="s">&quot;Password&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">&quot;submit&quot;</span><span class="nt">&gt;</span>Sign In<span class="nt">&lt;/button&gt;</span>
<span class="nt">&lt;/form&gt;</span></code></pre></figure> <h3 id="without-database">Without Database</h3> <p>Following configuration of spring login supports without using database. These configurations are valid for Spring Security 4+.</p> <p>/WEB-INF/web.xml</p> <figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;web-app</span> <span class="na">version=</span><span class="s">&quot;3.0&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://java.sun.com/xml/ns/javaee&quot;</span> <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;context-param&gt;</span>
        <span class="nt">&lt;param-name&gt;</span>contextConfigLocation<span class="nt">&lt;/param-name&gt;</span>
        <span class="nt">&lt;param-value&gt;</span>/WEB-INF/applicationContext.xml,/WEB-INF/spring-security.xml<span class="nt">&lt;/param-value&gt;</span>
    <span class="nt">&lt;/context-param&gt;</span>
    <span class="nt">&lt;listener&gt;</span>
        <span class="nt">&lt;listener-class&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="nt">&lt;/listener-class&gt;</span>
    <span class="nt">&lt;/listener&gt;</span>
    <span class="nt">&lt;servlet&gt;</span>
        <span class="nt">&lt;servlet-name&gt;</span>dispatcher<span class="nt">&lt;/servlet-name&gt;</span>
        <span class="nt">&lt;servlet-class&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="nt">&lt;/servlet-class&gt;</span>
        <span class="nt">&lt;load-on-startup&gt;</span>2<span class="nt">&lt;/load-on-startup&gt;</span>
        <span class="nt">&lt;async-supported&gt;</span>true<span class="nt">&lt;/async-supported&gt;</span>
    <span class="nt">&lt;/servlet&gt;</span>
    <span class="nt">&lt;servlet-mapping&gt;</span>
        <span class="nt">&lt;servlet-name&gt;</span>dispatcher<span class="nt">&lt;/servlet-name&gt;</span>
        <span class="nt">&lt;url-pattern&gt;</span>/<span class="nt">&lt;/url-pattern&gt;</span>
    <span class="nt">&lt;/servlet-mapping&gt;</span>
    <span class="nt">&lt;session-config&gt;</span>
        <span class="nt">&lt;session-timeout&gt;</span>
            30
        <span class="nt">&lt;/session-timeout&gt;</span>
    <span class="nt">&lt;/session-config&gt;</span>
    <span class="nt">&lt;welcome-file-list&gt;</span>
        <span class="nt">&lt;welcome-file&gt;</span>/<span class="nt">&lt;/welcome-file&gt;</span>
    <span class="nt">&lt;/welcome-file-list&gt;</span>
    
    <span class="nt">&lt;filter&gt;</span>
        <span class="nt">&lt;filter-name&gt;</span>springSecurityFilterChain<span class="nt">&lt;/filter-name&gt;</span>
        <span class="nt">&lt;filter-class&gt;</span>org.springframework.web.filter.DelegatingFilterProxy<span class="nt">&lt;/filter-class&gt;</span>
        <span class="nt">&lt;async-supported&gt;</span>true<span class="nt">&lt;/async-supported&gt;</span>
    <span class="nt">&lt;/filter&gt;</span>
    <span class="nt">&lt;filter-mapping&gt;</span>
        <span class="nt">&lt;filter-name&gt;</span>springSecurityFilterChain<span class="nt">&lt;/filter-name&gt;</span>
        <span class="nt">&lt;url-pattern&gt;</span>/*<span class="nt">&lt;/url-pattern&gt;</span>
    <span class="nt">&lt;/filter-mapping&gt;</span>
<span class="nt">&lt;/web-app&gt;</span></code></pre></figure> <p>/WEB-INF/applicationContext.xml</p> <figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;beans</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.springframework.org/schema/beans&quot;</span>
       <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
       <span class="na">xmlns:p=</span><span class="s">&quot;http://www.springframework.org/schema/p&quot;</span>
       <span class="na">xmlns:aop=</span><span class="s">&quot;http://www.springframework.org/schema/aop&quot;</span>
       <span class="na">xmlns:tx=</span><span class="s">&quot;http://www.springframework.org/schema/tx&quot;</span>
       <span class="na">xmlns:sec=</span><span class="s">&quot;http://www.springframework.org/schema/security&quot;</span> 
       <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd</span>
<span class="s">       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd</span>
<span class="s">       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd</span>
<span class="s">       http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-4.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;multipartResolver&quot;</span> <span class="na">class=</span><span class="s">&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/beans&gt;</span></code></pre></figure> <p>/WEB-INF/spring-security.xml</p> <figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;beans:beans</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.springframework.org/schema/security&quot;</span>
	<span class="na">xmlns:beans=</span><span class="s">&quot;http://www.springframework.org/schema/beans&quot;</span> <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
	<span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.springframework.org/schema/beans </span>
<span class="s">	http://www.springframework.org/schema/beans/spring-beans-4.0.xsd </span>
<span class="s">	http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-4.0.xsd&quot;</span><span class="nt">&gt;</span>
	
	<span class="nt">&lt;http</span> <span class="na">auto-config=</span><span class="s">&quot;true&quot;</span> <span class="na">use-expressions=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
		<span class="nt">&lt;form-login</span> <span class="na">login-page=</span><span class="s">&quot;/login&quot;</span> <span class="na">authentication-failure-url=</span><span class="s">&quot;/login?error&quot;</span> <span class="na">default-target-url=</span><span class="s">&quot;/login&quot;</span> <span class="na">username-parameter=</span><span class="s">&quot;username&quot;</span> <span class="na">password-parameter=</span><span class="s">&quot;password&quot;</span> <span class="na">login-processing-url=</span><span class="s">&quot;/j_spring_security_check&quot;</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;logout</span> <span class="na">logout-success-url=</span><span class="s">&quot;/login?logout&quot;</span> <span class="na">delete-cookies=</span><span class="s">&quot;JSESSIONID&quot;</span> <span class="na">invalidate-session=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;csrf</span> <span class="na">disabled=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
		<span class="nt">&lt;session-management</span>	<span class="na">invalid-session-url=</span><span class="s">&quot;/&quot;</span><span class="nt">&gt;</span>
			<span class="nt">&lt;concurrency-control</span> <span class="na">max-sessions=</span><span class="s">&quot;10&quot;</span> <span class="na">error-if-maximum-exceeded=</span><span class="s">&quot;false&quot;</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;/session-management&gt;</span>
	<span class="nt">&lt;/http&gt;</span>
	
	<span class="nt">&lt;authentication-manager&gt;</span>
		<span class="nt">&lt;authentication-provider&gt;</span>
		    <span class="nt">&lt;user-service&gt;</span>
                <span class="nt">&lt;user</span> <span class="na">name=</span><span class="s">&quot;pujan&quot;</span> <span class="na">password=</span><span class="s">&quot;password&quot;</span>  <span class="na">authorities=</span><span class="s">&quot;ROLE_USER&quot;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;user</span> <span class="na">name=</span><span class="s">&quot;admin&quot;</span> <span class="na">password=</span><span class="s">&quot;password&quot;</span> <span class="na">authorities=</span><span class="s">&quot;ROLE_ADMIN&quot;</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;user</span> <span class="na">name=</span><span class="s">&quot;dba&quot;</span>   <span class="na">password=</span><span class="s">&quot;password&quot;</span> <span class="na">authorities=</span><span class="s">&quot;ROLE_ADMIN,ROLE_DBA&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/user-service&gt;</span>
		<span class="nt">&lt;/authentication-provider&gt;</span>
	<span class="nt">&lt;/authentication-manager&gt;</span>
<span class="nt">&lt;/beans:beans&gt;</span></code></pre></figure> <h3 id="with-database">With Database</h3> <figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;web-app</span> <span class="na">version=</span><span class="s">&quot;3.0&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://java.sun.com/xml/ns/javaee&quot;</span> <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;context-param&gt;</span>
        <span class="nt">&lt;param-name&gt;</span>contextConfigLocation<span class="nt">&lt;/param-name&gt;</span>
        <span class="nt">&lt;param-value&gt;</span>/WEB-INF/applicationContext.xml,/WEB-INF/spring-security.xml,/WEB-INF/spring-database.xml<span class="nt">&lt;/param-value&gt;</span>
    <span class="nt">&lt;/context-param&gt;</span>
    <span class="nt">&lt;listener&gt;</span>
        <span class="nt">&lt;listener-class&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="nt">&lt;/listener-class&gt;</span>
    <span class="nt">&lt;/listener&gt;</span>
    <span class="nt">&lt;servlet&gt;</span>
        <span class="nt">&lt;servlet-name&gt;</span>dispatcher<span class="nt">&lt;/servlet-name&gt;</span>
        <span class="nt">&lt;servlet-class&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="nt">&lt;/servlet-class&gt;</span>
        <span class="nt">&lt;load-on-startup&gt;</span>2<span class="nt">&lt;/load-on-startup&gt;</span>
        <span class="nt">&lt;async-supported&gt;</span>true<span class="nt">&lt;/async-supported&gt;</span>
    <span class="nt">&lt;/servlet&gt;</span>
    <span class="nt">&lt;servlet-mapping&gt;</span>
        <span class="nt">&lt;servlet-name&gt;</span>dispatcher<span class="nt">&lt;/servlet-name&gt;</span>
        <span class="nt">&lt;url-pattern&gt;</span>/<span class="nt">&lt;/url-pattern&gt;</span>
    <span class="nt">&lt;/servlet-mapping&gt;</span>
    <span class="nt">&lt;session-config&gt;</span>
        <span class="nt">&lt;session-timeout&gt;</span>
            30
        <span class="nt">&lt;/session-timeout&gt;</span>
    <span class="nt">&lt;/session-config&gt;</span>
    <span class="nt">&lt;welcome-file-list&gt;</span>
        <span class="nt">&lt;welcome-file&gt;</span>/<span class="nt">&lt;/welcome-file&gt;</span>
    <span class="nt">&lt;/welcome-file-list&gt;</span>
    
    <span class="nt">&lt;filter&gt;</span>
        <span class="nt">&lt;filter-name&gt;</span>springSecurityFilterChain<span class="nt">&lt;/filter-name&gt;</span>
        <span class="nt">&lt;filter-class&gt;</span>org.springframework.web.filter.DelegatingFilterProxy<span class="nt">&lt;/filter-class&gt;</span>
        <span class="nt">&lt;async-supported&gt;</span>true<span class="nt">&lt;/async-supported&gt;</span>
    <span class="nt">&lt;/filter&gt;</span>
    <span class="nt">&lt;filter-mapping&gt;</span>
        <span class="nt">&lt;filter-name&gt;</span>springSecurityFilterChain<span class="nt">&lt;/filter-name&gt;</span>
        <span class="nt">&lt;url-pattern&gt;</span>/*<span class="nt">&lt;/url-pattern&gt;</span>
    <span class="nt">&lt;/filter-mapping&gt;</span>
    
    <span class="nt">&lt;error-page&gt;</span>
  		<span class="nt">&lt;exception-type&gt;</span>java.lang.Throwable<span class="nt">&lt;/exception-type&gt;</span>
  		<span class="nt">&lt;location&gt;</span>/error<span class="nt">&lt;/location&gt;</span>
 	<span class="nt">&lt;/error-page&gt;</span>
 	
 	<span class="nt">&lt;error-page&gt;</span>
  		<span class="nt">&lt;error-code&gt;</span>404<span class="nt">&lt;/error-code&gt;</span>
  		<span class="nt">&lt;location&gt;</span>/error<span class="nt">&lt;/location&gt;</span>
 	<span class="nt">&lt;/error-page&gt;</span>
  
  	<span class="nt">&lt;error-page&gt;</span>
  		<span class="nt">&lt;location&gt;</span>/error<span class="nt">&lt;/location&gt;</span>
 	<span class="nt">&lt;/error-page&gt;</span>   
 	
 	<span class="nt">&lt;resource-ref&gt;</span>
  		<span class="nt">&lt;description&gt;</span>DB Connection Pooling<span class="nt">&lt;/description&gt;</span>
  		<span class="nt">&lt;res-ref-name&gt;</span>java:/jdbc/sv<span class="nt">&lt;/res-ref-name&gt;</span>
  		<span class="nt">&lt;res-type&gt;</span>javax.sql.DataSource<span class="nt">&lt;/res-type&gt;</span>
  		<span class="nt">&lt;res-auth&gt;</span>Container<span class="nt">&lt;/res-auth&gt;</span>
  		<span class="nt">&lt;res-sharing-scope&gt;</span>Shareable<span class="nt">&lt;/res-sharing-scope&gt;</span>
	<span class="nt">&lt;/resource-ref&gt;</span>
<span class="nt">&lt;/web-app&gt;</span></code></pre></figure> <p>applicationContext.xml</p> <figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;beans</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.springframework.org/schema/beans&quot;</span>
       <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
       <span class="na">xmlns:p=</span><span class="s">&quot;http://www.springframework.org/schema/p&quot;</span>
       <span class="na">xmlns:aop=</span><span class="s">&quot;http://www.springframework.org/schema/aop&quot;</span>
       <span class="na">xmlns:tx=</span><span class="s">&quot;http://www.springframework.org/schema/tx&quot;</span>
       <span class="na">xmlns:sec=</span><span class="s">&quot;http://www.springframework.org/schema/security&quot;</span> 
       <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd</span>
<span class="s">       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd</span>
<span class="s">       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd</span>
<span class="s">       http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-4.0.xsd&quot;</span><span class="nt">&gt;</span>


<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;multipartResolver&quot;</span> <span class="na">class=</span><span class="s">&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/beans&gt;</span></code></pre></figure> <p>dispatcher-servlet.xml</p> <figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;beans</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.springframework.org/schema/beans&quot;</span>
	<span class="na">xmlns:mvc=</span><span class="s">&quot;http://www.springframework.org/schema/mvc&quot;</span> 
	<span class="na">xmlns:util=</span><span class="s">&quot;http://www.springframework.org/schema/util&quot;</span>
	<span class="na">xmlns:context=</span><span class="s">&quot;http://www.springframework.org/schema/context&quot;</span>
	<span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> 
	<span class="na">xmlns:p=</span><span class="s">&quot;http://www.springframework.org/schema/p&quot;</span>
	<span class="na">xmlns:cache=</span><span class="s">&quot;http://www.springframework.org/schema/cache&quot;</span> 
	<span class="na">xmlns:sec=</span><span class="s">&quot;http://www.springframework.org/schema/security&quot;</span>
	<span class="na">xmlns:aop=</span><span class="s">&quot;http://www.springframework.org/schema/aop&quot;</span> 
	<span class="na">xmlns:tx=</span><span class="s">&quot;http://www.springframework.org/schema/tx&quot;</span>
	<span class="na">xmlns:task=</span><span class="s">&quot;http://www.springframework.org/schema/task&quot;</span> 
	<span class="na">xmlns:websocket=</span><span class="s">&quot;http://www.springframework.org/schema/websocket&quot;</span>
	<span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.2.xsd</span>
<span class="s">       http://www.springframework.org/schema/aop </span>
<span class="s">       http://www.springframework.org/schema/aop/spring-aop-4.0.xsd</span>
<span class="s">       http://www.springframework.org/schema/util</span>
<span class="s">       http://www.springframework.org/schema/util/spring-util-4.2.xsd</span>
<span class="s">       http://www.springframework.org/schema/tx </span>
<span class="s">       http://www.springframework.org/schema/tx/spring-tx-4.0.xsd</span>
<span class="s">       http://www.springframework.org/schema/mvc  </span>
<span class="s">       http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd</span>
<span class="s">       http://www.springframework.org/schema/cache </span>
<span class="s">       http://www.springframework.org/schema/cache/spring-cache.xsd</span>
<span class="s">       http://www.springframework.org/schema/security </span>
<span class="s">       http://www.springframework.org/schema/security/spring-security-4.0.xsd </span>
<span class="s">       http://www.springframework.org/schema/context </span>
<span class="s">       http://www.springframework.org/schema/context/spring-context-4.2.xsd</span>
<span class="s">       http://www.springframework.org/schema/task </span>
<span class="s">       http://www.springframework.org/schema/task/spring-task-4.2.xsd</span>
<span class="s">       http://www.springframework.org/schema/websocket</span>
<span class="s">        http://www.springframework.org/schema/websocket/spring-websocket-4.2.xsd&quot;</span><span class="nt">&gt;</span>


	<span class="nt">&lt;sec:global-method-security</span>
		<span class="na">pre-post-annotations=</span><span class="s">&quot;enabled&quot;</span> <span class="na">proxy-target-class=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>

	<span class="nt">&lt;mvc:annotation-driven</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;cache:annotation-driven</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;task:annotation-driven</span> <span class="na">executor=</span><span class="s">&quot;taskExecutor&quot;</span> <span class="na">scheduler=</span><span class="s">&quot;taskScheduler&quot;</span><span class="nt">/&gt;</span>
	<span class="nt">&lt;task:executor</span> <span class="na">id=</span><span class="s">&quot;taskExecutor&quot;</span> <span class="na">pool-size=</span><span class="s">&quot;5&quot;</span><span class="nt">/&gt;</span>
	<span class="nt">&lt;task:scheduler</span> <span class="na">id=</span><span class="s">&quot;taskScheduler&quot;</span> <span class="na">pool-size=</span><span class="s">&quot;10&quot;</span><span class="nt">/&gt;</span>
	
	<span class="nt">&lt;mvc:resources</span> <span class="na">mapping=</span><span class="s">&quot;/resources/**&quot;</span> <span class="na">location=</span><span class="s">&quot;/resources/&quot;</span><span class="nt">&gt;</span>
    	<span class="nt">&lt;mvc:cache-control</span> <span class="na">max-age=</span><span class="s">&quot;604800&quot;</span> <span class="na">cache-public=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
	<span class="nt">&lt;/mvc:resources&gt;</span>
	
	<span class="nt">&lt;mvc:resources</span> <span class="na">mapping=</span><span class="s">&quot;/tmpls/**&quot;</span> <span class="na">location=</span><span class="s">&quot;/tmpls/&quot;</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;mvc:resources</span> <span class="na">mapping=</span><span class="s">&quot;/media/**&quot;</span> <span class="na">location=</span><span class="s">&quot;file:${user.home}/uploads/&quot;</span><span class="nt">&gt;</span>
		<span class="nt">&lt;mvc:cache-control</span> <span class="na">max-age=</span><span class="s">&quot;604800&quot;</span> <span class="na">cache-public=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
	<span class="nt">&lt;/mvc:resources&gt;</span>
	
	<span class="nt">&lt;context:component-scan</span> <span class="na">base-package=</span><span class="s">&quot;com.avalant.*&quot;</span> <span class="nt">/&gt;</span>

	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;viewResolver&quot;</span>
		<span class="na">class=</span><span class="s">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span>
		<span class="na">p:prefix=</span><span class="s">&quot;/&quot;</span> <span class="na">p:suffix=</span><span class="s">&quot;.jsp&quot;</span> <span class="nt">/&gt;</span>

	<span class="nt">&lt;util:properties</span> <span class="na">id=</span><span class="s">&quot;propertyConfigurer&quot;</span> <span class="na">location=</span><span class="s">&quot;classpath:mi.properties&quot;</span><span class="nt">/&gt;</span>
	<span class="nt">&lt;context:property-placeholder</span> <span class="na">properties-ref=</span><span class="s">&quot;propertyConfigurer&quot;</span> <span class="nt">/&gt;</span>

	<span class="nt">&lt;context:property-placeholder</span> <span class="na">location=</span><span class="s">&quot;classpath:mi.properties&quot;</span>
		<span class="na">ignore-unresolvable=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>

	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;multipartResolver&quot;</span>
		<span class="na">class=</span><span class="s">&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;</span><span class="nt">&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;maxUploadSize&quot;</span> <span class="na">value=</span><span class="s">&quot;${upload.file.size}&quot;</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;/bean&gt;</span>

	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;localeResolver&quot;</span>
		<span class="na">class=</span><span class="s">&quot;org.springframework.web.servlet.i18n.SessionLocaleResolver&quot;</span><span class="nt">&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;defaultLocale&quot;</span> <span class="na">value=</span><span class="s">&quot;en&quot;</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;/bean&gt;</span>
	<span class="nt">&lt;mvc:interceptors&gt;</span>
		<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;localeChangeInterceptor&quot;</span>
			<span class="na">class=</span><span class="s">&quot;org.springframework.web.servlet.i18n.LocaleChangeInterceptor&quot;</span><span class="nt">&gt;</span>
			<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;paramName&quot;</span> <span class="na">value=</span><span class="s">&quot;lang&quot;</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;/bean&gt;</span>
	<span class="nt">&lt;/mvc:interceptors&gt;</span>


	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;messageSource&quot;</span>
		<span class="na">class=</span><span class="s">&quot;org.springframework.context.support.ReloadableResourceBundleMessageSource&quot;</span><span class="nt">&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;basenames&quot;</span><span class="nt">&gt;</span>
			<span class="nt">&lt;list&gt;</span>
				<span class="nt">&lt;value&gt;</span>classpath:lang/text<span class="nt">&lt;/value&gt;</span>
			<span class="nt">&lt;/list&gt;</span>
		<span class="nt">&lt;/property&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;defaultEncoding&quot;</span> <span class="na">value=</span><span class="s">&quot;UTF-8&quot;</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;/bean&gt;</span>
	
	
	
	 <span class="nt">&lt;bean</span> <span class="na">class=</span><span class="s">&quot;org.springframework.web.socket.server.standard.ServletServerContainerFactoryBean&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;maxTextMessageBufferSize&quot;</span> <span class="na">value=</span><span class="s">&quot;8192&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;maxBinaryMessageBufferSize&quot;</span> <span class="na">value=</span><span class="s">&quot;8192&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;asyncSendTimeout&quot;</span> <span class="na">value=</span><span class="s">&quot;120000&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;maxSessionIdleTimeout&quot;</span> <span class="na">value=</span><span class="s">&quot;120000&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/bean&gt;</span>
<span class="nt">&lt;/beans&gt;</span></code></pre></figure> <p>spring-database.xml</p> <figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;beans</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.springframework.org/schema/beans&quot;</span>
	<span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> 
	<span class="na">xmlns:context=</span><span class="s">&quot;http://www.springframework.org/schema/context&quot;</span>
	<span class="na">xmlns:tx=</span><span class="s">&quot;http://www.springframework.org/schema/tx&quot;</span>
	<span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.springframework.org/schema/beans</span>
<span class="s">	http://www.springframework.org/schema/beans/spring-beans-4.0.xsd</span>
<span class="s">	http://www.springframework.org/schema/context </span>
<span class="s">    http://www.springframework.org/schema/context/spring-context-4.2.xsd</span>
<span class="s">    http://www.springframework.org/schema/tx </span>
<span class="s">    http://www.springframework.org/schema/tx/spring-tx-4.0.xsd&quot;</span><span class="nt">&gt;</span>

	<span class="nt">&lt;tx:annotation-driven</span> <span class="na">proxy-target-class=</span><span class="s">&quot;true&quot;</span>
		<span class="na">transaction-manager=</span><span class="s">&quot;transactionManager&quot;</span> <span class="nt">/&gt;</span>

	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;transactionManager&quot;</span>
		<span class="na">class=</span><span class="s">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span><span class="nt">&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;dataSource&quot;</span> <span class="na">ref=</span><span class="s">&quot;dataSource&quot;</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;/bean&gt;</span>
	
	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;userDAOImpl&quot;</span> <span class="na">class=</span><span class="s">&quot;com.avalant.dao.UserDAOImpl&quot;</span><span class="nt">&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;dataSource&quot;</span> <span class="na">ref=</span><span class="s">&quot;dataSource&quot;</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;/bean&gt;</span>
	
	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;templateDAOImpl&quot;</span> <span class="na">class=</span><span class="s">&quot;com.avalant.dao.TemplateDAOImpl&quot;</span><span class="nt">&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;dataSource&quot;</span> <span class="na">ref=</span><span class="s">&quot;dataSource&quot;</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;/bean&gt;</span>
	
	<span class="nt">&lt;context:property-placeholder</span> <span class="na">location=</span><span class="s">&quot;classpath:mi.properties&quot;</span> <span class="na">ignore-unresolvable=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">&quot;dataSource&quot;</span> <span class="na">class=</span><span class="s">&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;</span><span class="nt">&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;jndiName&quot;</span> <span class="na">value=</span><span class="s">&quot;${datasource}&quot;</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;resourceRef&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;/bean&gt;</span>
<span class="nt">&lt;/beans&gt;</span></code></pre></figure> <p>spring-security.xml</p> <figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;beans:beans</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.springframework.org/schema/security&quot;</span>
	<span class="na">xmlns:beans=</span><span class="s">&quot;http://www.springframework.org/schema/beans&quot;</span> <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
	<span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.springframework.org/schema/beans </span>
<span class="s">	http://www.springframework.org/schema/beans/spring-beans-4.0.xsd </span>
<span class="s">	http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-4.0.xsd&quot;</span><span class="nt">&gt;</span>
	
	<span class="nt">&lt;beans:bean</span> <span class="na">id=</span><span class="s">&quot;authSuccessHandler&quot;</span> <span class="na">class=</span><span class="s">&quot;com.avalant.web.controller.AuthSuccessHandler&quot;</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;http</span> <span class="na">auto-config=</span><span class="s">&quot;true&quot;</span> <span class="na">use-expressions=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
		<span class="nt">&lt;intercept-url</span> <span class="na">pattern=</span><span class="s">&quot;/api/obtain/**&quot;</span>	<span class="na">access=</span><span class="s">&quot;hasAnyRole(&#39;ROLE_ANONYMOUS&#39;,&#39;ROLE_USER&#39;, &#39;ROLE_ADMIN&#39;)&quot;</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;access-denied-handler</span> <span class="na">error-page=</span><span class="s">&quot;/403&quot;</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;form-login</span> <span class="na">login-page=</span><span class="s">&quot;/login&quot;</span> <span class="na">authentication-failure-url=</span><span class="s">&quot;/login?error&quot;</span> <span class="na">default-target-url=</span><span class="s">&quot;/login&quot;</span> <span class="na">authentication-success-handler-ref=</span><span class="s">&quot;authSuccessHandler&quot;</span>
			<span class="na">username-parameter=</span><span class="s">&quot;username&quot;</span> <span class="na">password-parameter=</span><span class="s">&quot;password&quot;</span> <span class="na">login-processing-url=</span><span class="s">&quot;/j_spring_security_check&quot;</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;logout</span> <span class="na">logout-success-url=</span><span class="s">&quot;/login?logout&quot;</span> <span class="na">delete-cookies=</span><span class="s">&quot;JSESSIONID&quot;</span> <span class="na">invalidate-session=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;csrf</span> <span class="na">disabled=</span><span class="s">&quot;true&quot;</span><span class="nt">/&gt;</span>
	    <span class="nt">&lt;headers&gt;</span>
        	<span class="nt">&lt;frame-options</span> <span class="na">policy=</span><span class="s">&quot;SAMEORIGIN&quot;</span><span class="nt">/&gt;</span>
    	<span class="nt">&lt;/headers&gt;</span>    
		<span class="nt">&lt;session-management</span>	<span class="na">invalid-session-url=</span><span class="s">&quot;/&quot;</span><span class="nt">&gt;</span>
			<span class="nt">&lt;concurrency-control</span> <span class="na">max-sessions=</span><span class="s">&quot;10&quot;</span> <span class="na">error-if-maximum-exceeded=</span><span class="s">&quot;false&quot;</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;/session-management&gt;</span>
    	<span class="nt">&lt;remember-me</span>  <span class="na">token-validity-seconds=</span><span class="s">&quot;604800&quot;</span> <span class="na">remember-me-parameter=</span><span class="s">&quot;remember-me&quot;</span>  <span class="na">data-source-ref=</span><span class="s">&quot;dataSource&quot;</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;/http&gt;</span>

	<span class="nt">&lt;authentication-manager&gt;</span>
		<span class="nt">&lt;authentication-provider&gt;</span>
		    <span class="nt">&lt;password-encoder</span> <span class="na">ref=</span><span class="s">&quot;encoder&quot;</span> <span class="nt">/&gt;</span>
			<span class="nt">&lt;jdbc-user-service</span> <span class="na">data-source-ref=</span><span class="s">&quot;dataSource&quot;</span>
				<span class="na">users-by-username-query=</span><span class="s">&quot;SELECT USERNAME, PASSWORD, ENABLED FROM SV_USERS WHERE USERNAME=?&quot;</span>
				<span class="na">authorities-by-username-query=</span><span class="s">&quot;SELECT USERNAME, ROLE FROM SV_ROLES WHERE USERNAME=?&quot;</span> <span class="nt">/&gt;</span>
		<span class="nt">&lt;/authentication-provider&gt;</span>
	<span class="nt">&lt;/authentication-manager&gt;</span>
	<span class="nt">&lt;beans:bean</span> <span class="na">id=</span><span class="s">&quot;encoder&quot;</span>
		<span class="na">class=</span><span class="s">&quot;org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder&quot;</span><span class="nt">&gt;</span>
		<span class="nt">&lt;beans:constructor-arg</span> <span class="na">name=</span><span class="s">&quot;strength&quot;</span> <span class="na">value=</span><span class="s">&quot;10&quot;</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;/beans:bean&gt;</span>
<span class="nt">&lt;/beans:beans&gt;</span></code></pre></figure> </div> </div> </div> </section> </div> </section> <div id="footer"> <div class="container"> <div class="row "> <section class="6u"> <h3>More Links to Stuff</h3> <ul class="url"> <li><a href="/etc/calendar-next-4-months/">Calendar For Next Four Months</a></li><li><a href="/javaee/ws/soapvsrest/">SOAP vs REST</a></li><li><a href="/web/regex/">Regex</a></li><li><a href="/javaee/spring/security/credential/">Spring Security Credentails See Password at Session</a></li><li><a href="/etc/curl/">Curl Command</a></li><li><a href="/etc/http2/">HTTP/2 Explained</a></li> </ul> </section> <section class="6u"> <h3>Search Posts</h3> <form action="get" id="site_search"> <input type="text" id="search_box"> <input type="submit" value="Search"> </form> <ul id="search_results"></ul> </section> </div> </div> <ul class="icons"> <li><a href="http://github.com/pujansrt" class="icon fa-github"><span class="label">GitHub</span></a></li> <li><a href="http://www.linkedin.com/in/pujansrt" class="icon fa-linkedin"><span class="label">LinkedIn</span></a></li> <li><a href="https://plus.google.com/+PujanSrivastava" class="icon fa-google-plus"><span class="label">Google+</span></a></li> </ul> <div class="copyright"> <ul class="menu"> <li>&copy; Appkubos. All rights reserved 2010-2016</li> </ul> </div> </div> <script>(function(d,e,j,h,f,c,b){d.GoogleAnalyticsObject=f;d[f]=d[f]||function(){(d[f].q=d[f].q||[]).push(arguments)},d[f].l=1*new Date();c=e.createElement(j),b=e.getElementsByTagName(j)[0];c.async=1;c.src=h;b.parentNode.insertBefore(c,b)})(window,document,"script","//www.appkubos.com/assets/js/analytics.js","ga");ga("create","UA-72013918-1","auto");ga("send","pageview");$(function(a){$(".headmenu").each(function(b){var c=$(this);if($(c).attr("data-curr")==$(c).attr("data-cat")){$(c).addClass("current")}});loadAsyncCSS("https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css");loadAsyncCSS("/assets/css/pygments.css")});function loadAsyncCSS(a){if(document.createStyleSheet){document.createStyleSheet(a)}else{$("head").append($("<link rel='stylesheet' href='"+a+"' type='text/css' media='screen' />"))}};</script> </body> </html>