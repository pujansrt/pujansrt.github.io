(function(){var c="/feed.xml",b,f,i,h="",g,l=[];function e(n){var r={};if(n.nodeType==3){r=n.nodeValue}var q=[].slice.call(n.childNodes).filter(function(t){return t.nodeType===3});if(n.hasChildNodes()&&n.childNodes.length===q.length){r=[].slice.call(n.childNodes).reduce(function(u,t){return u+t.nodeValue},"")}else{if(n.hasChildNodes()){for(var o=0;o<n.childNodes.length;o++){var p=n.childNodes.item(o);var s=p.nodeName;if(typeof(r[s])=="undefined"){r[s]=e(p)}else{if(typeof(r[s].push)=="undefined"){var m=r[s];r[s]=[];r[s].push(m)}r[s].push(e(p))}}}}return r}function k(m){var n=e(m);return n.channel.item}window.toggleSearch=function a(){b.classList.toggle("is-active");if(b.classList.contains("is-active")){f.value=""}else{i.classList.add("is-hidden")}setTimeout(function(){f.focus()},210)};function d(){var n,o;h=f.value;if(!h||h.length<3){g="";i.classList.add("is-hidden");return}i.style.offsetWidth;var m=l.filter(function(p){if(p.title.indexOf(h)!==-1||p.description.indexOf(h)!==-1){return true}});if(!m.length){i.classList.add("is-hidden")}n=m.reduce(function(q,p){return p.title+q},"");if(m.length&&n!==g){i.classList.remove("is-hidden");i.innerHTML=m.map(function(p){o=new Date(p.pubDate);return'<li><a href="'+p.link+'">'+p.title+'<span class="search__result-date">'+o.toUTCString().replace(/.*(\d{2})\s+(\w{3})\s+(\d{4}).*/,"$2 $1, $3")+"</span></a></li>"}).join("")}g=n}function j(n){c=n.searchFile||c;b=document.querySelector(n.searchSelector||"#js-super-search");f=document.querySelector(n.inputSelector||"#js-super-search__input");i=document.querySelector(n.resultsSelector||"#js-super-search__results");var o=new XMLHttpRequest();o.open("GET",c);o.onreadystatechange=function(){if(o.readyState!=4){return}if(o.status!=200&&o.status!=304){return}var q=(new DOMParser).parseFromString(o.responseText,"text/xml");q=q.children[0];l=k(q)};o.send();window.addEventListener("keyup",function m(q){if(q.which===27){a()}});window.addEventListener("keypress",function m(q){if(q.which===47&&!b.classList.contains("is-active")){a()}});f.addEventListener("input",function p(){d()})}j.toggle=a;window.superSearch=j})();