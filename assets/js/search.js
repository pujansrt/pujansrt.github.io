jQuery(function(){window.idx=lunr(function(){this.field("id");this.field("title",{boost:10});this.field("author");this.field("category")});window.data=$.getJSON("/search_data.json");window.data.then(function(b){$.each(b,function(c,d){window.idx.add($.extend({id:c},d))})});$("#site_search").submit(function(c){c.preventDefault();var d=$("#search_box").val();var b=window.idx.search(d);a(b)});function a(b){var c=$("#search_results");window.data.then(function(d){if(b.length){c.empty();b.forEach(function(e){var g=d[e.ref];var f='<li><a href="'+g.url+'">'+g.title+"</a></li>";c.append(f)})}else{c.html("<li>No results found</li>")}})}});