<!DOCTYPE HTML> <html lang="en-US"> <head> <title>AppKubos: Python Tutorial</title> <meta http-equiv="content-type" content="text/html; charset=utf-8"/> <meta name="description" content="Python Tutorial"/> <meta name="HandheldFriendly" content="True"/> <meta name="viewport" content="width=device-width, initial-scale=1.0"/> <meta name="referrer" content="origin"/> <link rel="icon" href="/favicon.ico" type="image/x-icon"> <!--[if lte IE 8]><script src="/assets/css/ie/html5shiv.js"></script><![endif]--> <noscript> <link rel="stylesheet" href="/assets/css/skel.css"/> <link rel="stylesheet" href="/assets/css/style.css"/> <link rel="stylesheet" href="/assets/css/style-wide.css"/> </noscript> <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script> <script async src="/assets/js/jquery.dropotron.min.js"></script> <script src="/assets/js/skel.min.js"></script> <script src="/assets/js/skel-layers.min.js"></script> <script src="/assets/js/init.js"></script> <script async src="/assets/js/lunr.min.js"></script> <script async src="/assets/js/search.js"></script> <link rel="alternate" type="application/rss+xml" title="AppKubos" href="http://www.appkubos.com/feed.xml"/> </head> <body> <div id="header"> <nav id="nav"> <ul> <li><a href="/">Home</a></li> <li><a href="/pujan">About</a></li> <li class="headmenu" data-cat="javaee" data-curr="python"> <a name="JavaEE">JavaEE</a> <ul> <li><a href=""></a></li> <li><a href="/javaee/ws/soapvsrest/">SOAP vs REST</a></li> <li><a href="/javaee/spring/security/credential/">Spring Security Credentails See Password at Session</a></li> <li><a href="/javaee/spring/configuration/">Spring Security Configuration with Form Login</a></li> <li><a href="/javaee/jboss/jspfix/">JBoss Fix for JSP</a></li> <li><a href="/javaee/processbuilder/">How to Run System Commands in Java</a></li> <li><a href="/javaee/jackson/csv-creator/">CSV Creator using Jackson</a></li> <li><a href="/javaee/jaxws/sample-webservice/">JAX-WS Webservices using Annotations</a></li> </ul> </li><li class="headmenu" data-cat="other" data-curr="python"> <a name="Other">Other</a> <ul> <li><a href=""></a></li> <li><a href="/etc/calendar-next-4-months/">Calendar For Next Four Months</a></li> <li><a href="/etc/curl/">Curl Command</a></li> <li><a href="/etc/http2/">HTTP/2 Explained</a></li> <li><a href="/etc/tshark-commands/">TShark Commands</a></li> <li><a href="/etc/latency/">Latency Comparison</a></li> <li><a href="/etc/scala-introduction/">Scala Introduction</a></li> <li><a href="/etc/groovy-run-from-java/">Run Groovy from Java</a></li> </ul> </li><li class="headmenu" data-cat="python" data-curr="python"> <a name="Python">Python</a> <ul> <li><a href=""></a></li> <li><a href="/python/tutorial/">Python Tutorial</a></li> <li><a href="/python/file-handling/">Python File Handling</a></li> <li><a href="/python/dictionary/">Python Dictionary</a></li> </ul> </li><li class="headmenu" data-cat="integration" data-curr="python"> <a name="Integration">Integration</a> <ul> <li><a href=""></a></li> <li><a href="/integration/microservices/">Microservices Explained</a></li> <li><a href="/integration/oauth2/">OAuth2 Architecture</a></li> </ul> </li> </ul> </nav> </div> <section class="wrapper style1"> <div class="container"> <section> <header class="major"> <h2>Python Tutorial</h2> </header> <div class="row"> <div class="12u"> <div class="box post"> <p>Â </p> <h2 id="recursively-list-files-class-and-create-jar">Recursively List Files (Class) and Create Jar</h2> <figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c">#!/usr/bin/env python</span>
<span class="kn">import</span> <span class="nn">fnmatch</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="n">matches</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">root</span><span class="p">,</span> <span class="n">dirnames</span><span class="p">,</span> <span class="n">filenames</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">fnmatch</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">filenames</span><span class="p">,</span> <span class="s">&#39;*.class&#39;</span><span class="p">):</span>
        <span class="n">matches</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">filename</span><span class="p">))</span>

<span class="c">#print matches</span>

<span class="n">cmd</span> <span class="o">=</span> <span class="s">&#39;jar -cf MyLib.jar &#39;</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">matches</span><span class="p">:</span>
	<span class="n">cmd</span> <span class="o">+=</span> <span class="n">x</span> <span class="o">+</span> <span class="s">&#39; &#39;</span>

<span class="k">print</span> <span class="n">cmd</span>
<span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span></code></pre></figure> <h2 id="count-no-of-lines-in-a-project">Count no of lines in a Project</h2> <figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c">#!/usr/bin/env python</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">import</span> <span class="nn">sys</span>

<span class="n">pwd</span> <span class="o">=</span> <span class="s">&#39;.&#39;</span>
<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
    <span class="n">pwd</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>


<span class="n">files</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;java&#39;</span><span class="p">,</span><span class="s">&#39;jsp&#39;</span><span class="p">,</span><span class="s">&#39;xml&#39;</span><span class="p">,</span><span class="s">&#39;properties&#39;</span><span class="p">,</span><span class="s">&#39;json&#39;</span><span class="p">]</span>

<span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">dc</span><span class="o">=</span><span class="p">{}</span>

<span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
	<span class="n">p</span><span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span><span class="s">&#39;( find &#39;</span><span class="o">+</span><span class="n">pwd</span><span class="o">+</span><span class="s">&#39; -name </span><span class="se">\&#39;</span><span class="s">*.&#39;</span><span class="o">+</span><span class="n">f</span><span class="o">+</span><span class="s">&#39;</span><span class="se">\&#39;</span><span class="s"> -print0 | xargs -0 cat ) | wc -l&#39;</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">STDOUT</span><span class="p">)</span>
	<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">p</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
		<span class="n">count</span> <span class="o">=</span> <span class="n">count</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
		<span class="n">dc</span><span class="p">[</span><span class="n">f</span><span class="p">]</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
	<span class="n">retval</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>


<span class="k">print</span> <span class="s">&quot;____________________________&quot;</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">dc</span><span class="p">:</span>
	<span class="c">#print &#39;a%s&#39;,x, &quot;\t-\t\t&quot; % (dc[x].rjust(10)), dc[x]</span>
	<span class="k">print</span> <span class="n">x</span><span class="p">,</span><span class="s">&#39;</span><span class="se">\t\t</span><span class="si">%10s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="n">dc</span><span class="p">[</span><span class="n">x</span><span class="p">]</span>

<span class="k">print</span> <span class="s">&quot;____________________________&quot;</span>
<span class="k">print</span> <span class="s">&quot;Total num of lines: &quot;</span><span class="p">,</span> <span class="n">count</span>
<span class="k">print</span> <span class="s">&quot;____________________________&quot;</span></code></pre></figure> <h2 id="draw-graph-as-an-image">Draw Graph as an Image</h2> <figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="c">#!/usr/bin/env python</span>
<span class="c"># coding=UTF-8</span>
<span class="kn">from</span> <span class="nn">pygraphviz</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">dot</span> <span class="o">=</span> <span class="s">&quot;&quot;&quot;</span>
<span class="s">digraph graph21</span>
<span class="s">{</span>
<span class="s">  graph [viewport=&quot;400,550&quot;, resolution=72];</span>
<span class="s">  node [fontname=&quot;Monospace&quot;];</span>
<span class="s">  1 -&gt; 2 [label=&quot;a&quot;];</span>
<span class="s">  2 -&gt; 9 [label=&quot;a&quot;];</span>
<span class="s">  2 -&gt; 3 [label=&quot;b&quot;];</span>
<span class="s">  2 -&gt; 8 [label=&quot;c&quot;];</span>
<span class="s">  2 -&gt; 2 [label=&quot;d&quot;];</span>
<span class="s">  3 -&gt; 4 [label=&quot;b&quot;];</span>
<span class="s">  3 -&gt; 5 [label=&quot;a&quot;];</span>
<span class="s">  3 -&gt; 6 [label=&quot;c&quot;];</span>
<span class="s">  5 -&gt; 8 [label=&quot;a&quot;];</span>
<span class="s">  5 -&gt; 7 [label=&quot;b&quot;];</span>
<span class="s">  6 -&gt; 4 [label=&quot;a&quot;];</span>
<span class="s">  9 -&gt; 3 [label=&quot;a&quot;];</span>
<span class="s">  3 -&gt; 7 [label=&quot;d&quot;];</span>
<span class="s">}</span>
<span class="s">&quot;&quot;&quot;</span>
<span class="n">graph</span> <span class="o">=</span> <span class="n">AGraph</span><span class="p">(</span><span class="n">string</span><span class="o">=</span><span class="n">dot</span><span class="p">)</span>
<span class="n">graph</span><span class="o">.</span><span class="n">layout</span><span class="p">(</span><span class="n">prog</span><span class="o">=</span><span class="s">&#39;dot&#39;</span><span class="p">)</span>
<span class="n">graph</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="s">&#39;fsm-12.png&#39;</span><span class="p">)</span></code></pre></figure> </div> </div> </div> </section> </div> </section> <div id="footer"> <div class="container"> <div class="row "> <section class="6u"> <h3>More Links to Stuff</h3> <ul class="url"> <li><a href="/etc/calendar-next-4-months/">Calendar For Next Four Months</a></li><li><a href="/javaee/ws/soapvsrest/">SOAP vs REST</a></li><li><a href="/web/regex/">Regex</a></li><li><a href="/javaee/spring/security/credential/">Spring Security Credentails See Password at Session</a></li><li><a href="/etc/curl/">Curl Command</a></li><li><a href="/etc/http2/">HTTP/2 Explained</a></li> </ul> </section> <section class="6u"> <h3>Search Posts</h3> <form action="get" id="site_search"> <input type="text" id="search_box"> <input type="submit" value="Search"> </form> <ul id="search_results"></ul> </section> </div> </div> <ul class="icons"> <li><a href="http://github.com/pujansrt" class="icon fa-github"><span class="label">GitHub</span></a></li> <li><a href="http://www.linkedin.com/in/pujansrt" class="icon fa-linkedin"><span class="label">LinkedIn</span></a></li> <li><a href="https://plus.google.com/+PujanSrivastava" class="icon fa-google-plus"><span class="label">Google+</span></a></li> </ul> <div class="copyright"> <ul class="menu"> <li>&copy; Appkubos. All rights reserved 2010-2016</li> </ul> </div> </div> <script>(function(d,e,j,h,f,c,b){d.GoogleAnalyticsObject=f;d[f]=d[f]||function(){(d[f].q=d[f].q||[]).push(arguments)},d[f].l=1*new Date();c=e.createElement(j),b=e.getElementsByTagName(j)[0];c.async=1;c.src=h;b.parentNode.insertBefore(c,b)})(window,document,"script","//www.appkubos.com/assets/js/analytics.js","ga");ga("create","UA-72013918-1","auto");ga("send","pageview");$(function(a){$(".headmenu").each(function(b){var c=$(this);if($(c).attr("data-curr")==$(c).attr("data-cat")){$(c).addClass("current")}});loadAsyncCSS("https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css");loadAsyncCSS("/assets/css/pygments.css")});function loadAsyncCSS(a){if(document.createStyleSheet){document.createStyleSheet(a)}else{$("head").append($("<link rel='stylesheet' href='"+a+"' type='text/css' media='screen' />"))}};</script> </body> </html>